(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e9e4cdc"],{"4de4":function(t,s,o){"use strict";var e=o("23e7"),i=o("b727").filter,n=o("1dde"),a=o("ae40"),c=n("filter"),r=a("filter");e({target:"Array",proto:!0,forced:!c||!r},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},a339:function(t,s,o){},a5a1:function(t,s,o){"use strict";o.r(s);var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[o("van-nav-bar",{attrs:{title:"确认订单","left-arrow":""},on:{"click-left":t.revert}}),o("div",{directives:[{name:"show",rawName:"v-show",value:t.bool,expression:"bool"}],staticClass:"confirmOrderAddress",on:{click:function(s){return t.$router.push("/receivingAddress")}}},[o("i",{staticClass:"icon-left"}),o("p",{staticClass:"address"},[t._v("请填写收货地址")]),o("i",{staticClass:"icon-right"})]),o("van-address-list",{staticClass:"van-address-list-box",attrs:{list:t.list},on:{edit:t.onEdit,select:function(s){return t.$router.push("/receivingAddress")}}}),t._l(t.selectedList,(function(t,s){return o("div",{key:s,staticClass:"shopping"},[o("van-card",{attrs:{num:t.num,price:t.price,desc:"描述信息",title:t.name,thumb:t.img}})],1)})),o("van-cell-group",[o("van-cell",{staticClass:"cellbox",attrs:{title:"配送方式",value:"快递免邮"}}),o("van-cell",{staticClass:"cellbox",attrs:{title:"配送时间",value:"24:00前付款，预计3月13日到达"}}),o("van-cell",{staticClass:"cellbox cellbox1",attrs:{title:"运费险"}},[t._v(" ￥"+t._s(1.7)+" "),o("div",{staticClass:"checkBox"},[o("van-checkbox",{attrs:{"checked-color":"#fc5031"},model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}})],1)])],1),o("van-coupon-cell",{staticClass:"coupon",attrs:{coupons:t.coupons,"chosen-coupon":t.chosenCoupon},on:{click:function(s){t.showList=!0}}}),o("van-popup",{staticStyle:{height:"90%","padding-top":"4px"},attrs:{round:"",position:"bottom"},model:{value:t.showList,callback:function(s){t.showList=s},expression:"showList"}},[o("van-coupon-list",{attrs:{coupons:t.coupons,"disabled-coupons":t.disabledCoupons,"chosen-coupon":t.chosenCoupon},on:{change:t.onChange,exchange:t.onExchange}})],1),o("van-submit-bar",{attrs:{price:t.total,"button-text":"提交订单"},on:{submit:t.payment}})],2)},i=[],n=(o("4de4"),o("4160"),o("159b"),o("d399")),a={data:function(){return{coupons:[],chosenCoupon:-1,showList:!1,disabledCoupons:[],list:[],selectedList:[],checked:!1,bool:!1,total:0,oldIndex:0,index:null}},methods:{revert:function(){this.$store.state.bool=!0,this.$router.go(-1)},onEdit:function(t,s){this.$store.state.address.modifyIndex=s,this.$router.push("/modifyAddress")},onChange:function(t){this.index=t,this.showList=!1,this.chosenCoupon=t},onExchange:function(t){var s=this,o=this.$store.state.coilingCodeList;o.forEach((function(o){if(o.coilingCode==t&&o.stact){Object(n["a"])("领取成功"),s.$store.state.myjp.useCoupon.push(o),o.stact=!1;var e=s.checked?(s.$store.getters["shoppingcart/total"]+170)/100:s.$store.getters["shoppingcart/total"]/100;return s.coupons=s.$store.state.myjp.useCoupon.filter((function(t){return t.apply<e&&t.bool})),void(s.disabledCoupons=s.$store.state.myjp.useCoupon.filter((function(t){return t.apply>e||0==t.bool})))}o.coilingCode!=t||o.stact||Object(n["a"])("已经领取过了"),o.coilingCode!==t&&(Object(n["a"])("您输入的卷码有误"),t="")}))},payment:function(){var t=this;this.list.length<1?Object(n["a"])("请输入收货地址"):(this.$store.state.shoppingcart.list=[],this.$router.push("/payment"),this.selectedList.forEach((function(s){t.$store.state.myjp.allOrders.push(s)})),null!=this.index&&(this.coupons[this.index].bool=!1))}},watch:{chosenCoupon:function(t,s){-1!=s&&(this.total+=this.coupons[this.oldIndex].value),this.oldIndex=t,-1!=t?this.total=this.total-this.coupons[t].value:this.index=null},checked:function(t){t?this.total+=170:this.total-=170}},created:function(){this.$store.state.bool=!1,1==this.$store.state.address.list.length?this.list=this.$store.state.address.list:this.$store.state.address.list.length>1?this.list=this.$store.state.address.list.filter((function(t){return t.isDefault})):this.bool=!0,this.selectedList=this.$store.state.shoppingcart.list.filter((function(t){return t.bool}));var t=this.checked?(this.$store.getters["shoppingcart/total"]+170)/100:this.$store.getters["shoppingcart/total"]/100;this.coupons=this.$store.state.myjp.useCoupon.filter((function(s){return s.apply<t&&s.bool})),this.disabledCoupons=this.$store.state.myjp.useCoupon.filter((function(s){return s.apply>t||0==s.bool})),this.disabledCoupons.forEach((function(t){0==t.bool&&(t.reason="已经使用过了")})),this.total=this.$store.getters["shoppingcart/total"]},destroyed:function(){var t=this;this.$store.state.myjp.total=this.total/100,this.$store.state.myjp.useCoupon=this.coupons,this.disabledCoupons.forEach((function(s){t.$store.state.myjp.useCoupon.push(s)}))}},c=a,r=(o("ca92"),o("2877")),l=Object(r["a"])(c,e,i,!1,null,"42e0b752",null);s["default"]=l.exports},ca92:function(t,s,o){"use strict";var e=o("a339"),i=o.n(e);i.a}}]);
//# sourceMappingURL=chunk-2e9e4cdc.a8cc60f5.js.map