(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3940f131"],{aecb:function(e,t,s){},b371:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("van-nav-bar",{attrs:{title:"注册","left-arrow":""},on:{"click-left":function(t){return e.$router.go(-1)}}}),s("p",{staticClass:"tips"},[e._v("请确保你的邮箱正确，用于接收验证码短信")]),s("van-form",[s("van-field",{attrs:{name:"邮箱",label:"邮箱",placeholder:"邮箱","error-message":e.type?"邮箱格式错误":"",rules:[{required:!0,message:e.res}]},model:{value:e.em,callback:function(t){e.em=t},expression:"em"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("van-field",{attrs:{center:"",clearable:"",label:"邮箱验证码",placeholder:"请输入邮箱验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[s("van-button",{directives:[{name:"show",rawName:"v-show",value:!e.send,expression:"!send"}],attrs:{size:"small",type:"primary"},on:{click:e.btn}},[e._v("发送验证码")]),s("van-button",{directives:[{name:"show",rawName:"v-show",value:e.send,expression:"send"}],attrs:{size:"small",type:"primary",color:"#ccc"}},[e._v(e._s(e.time+"秒后重发"))])]},proxy:!0}]),model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{ref:"btn",attrs:{round:"",block:"",type:"info",color:"#ff464e","native-type":"submit"},on:{click:e.onSubmit}},[e._v("下一步")])],1)],1)],1)},a=[],r=s("d399"),o={data:function(){return{em:"",password:"",testing:"",bool:!1,res:"请填写邮箱",sms:"",type:!1,send:!1,num:null,time:60,setTime:null}},methods:{btn:function(){var e=this;""!=this.password&&""!=this.em&&this.$axios.post("http://127.0.0.1:3000/getcode",{emi:this.em}).then((function(t){-1==t.data.err?e.type=!0:(e.type=!1,e.send=!0,Object(r["a"])("发送成功"),e.setTime=setInterval((function(){e.time--,e.time<=0&&(clearInterval(e.setTime),e.send=!1)}),1e3))}))},onSubmit:function(){var e=this;this.$axios.post("http://127.0.0.1:3000/register",{emi:this.em,code:this.sms,password:this.password}).then((function(t){0==t.data.err?e.$router.push("/login"):Object(r["a"])("请输入正确的信息")}))}},created:function(){this.$store.state.bool=!1},destroyed:function(){},watch:{}},i=o,l=(s("e6ed"),s("2877")),c=Object(l["a"])(i,n,a,!1,null,"03039de4",null);t["default"]=c.exports},e6ed:function(e,t,s){"use strict";var n=s("aecb"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-3940f131.0b85b5ad.js.map